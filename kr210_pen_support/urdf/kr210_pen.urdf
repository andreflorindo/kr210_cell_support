<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from kr210_pen.xacro                | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="kr210_pen" xmlns:xacro="http://wiki.ros.org/xacro">
  <!-- colours based on RAL values given in "FAQ - Colours of robot and robot
       controller", version "KUKA.Tifs | 2010-01-21 |YM| DefaultColorsRobotAndController.doc",
       downloaded 2015-07-18 from
       http://www.kuka.be/main/cservice/faqs/hardware/DefaultColorsRobotAndController.pdf

       all RAL colours converted using http://www.visual-graphics.de/en/customer-care/ral-colours
  -->
  <!-- colours based on RAL values given in "FAQ - Colours of robot and robot
       controller", version "KUKA.Tifs | 2010-01-21 |YM| DefaultColorsRobotAndController.doc",
       downloaded 2015-07-18 from
       http://www.kuka.be/main/cservice/faqs/hardware/DefaultColorsRobotAndController.pdf

       all RAL colours converted using http://www.visual-graphics.de/en/customer-care/ral-colours
  -->
  <!-- Defining variables -->
  <!--0.2-->
  <!-- base link of complete linear track -->
  <link name="kl2000_base_link"/>
  <link name="kl2000_track">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kr210_pen_support/meshes/visual/kl2000_track.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kr210_pen_support/meshes/collision/kl2000_track_collision.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kl2000_mobile_base">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kr210_pen_support/meshes/visual/kl2000_mobile_base.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kr210_pen_support/meshes/collision/kl2000_mobile_base_collision.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT DEFINITIONS -->
  <joint name="kl2000_base_link_joint" type="fixed">
    <origin rpy="0 0 3.14159265359" xyz="-4.962 0 0.557"/>
    <parent link="kl2000_base_link"/>
    <child link="kl2000_track"/>
  </joint>
  <joint name="kl2000_joint_e1" type="fixed">
    <!-- temporary x translation as we're not using / controlling the track -->
    <origin rpy="0 0 0" xyz="-4.295 0 0"/>
    <parent link="kl2000_track"/>
    <child link="kl2000_mobile_base"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" lower="-4.3" upper="0" velocity="1.96"/>
  </joint>
  <link name="console_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kr210_pen_support/meshes/visual/kl2000_console_h400.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kr210_pen_support/meshes/collision/kl2000_console_h400_collision.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/base_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/base_link.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_link_1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/link_1.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/link_1.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_link_2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/link_2.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/link_2.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_link_3">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/link_3.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/link_3.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_link_4">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/link_4.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/link_4.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_link_5">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/link_5.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/link_5.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="kr210_link_6">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/link_6.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/link_6.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- This frame corresponds to the $FLANGE coordinate system in KUKA KRC controllers. -->
  <link name="kr210_tool0"/>
  <joint name="kr210_joint_a1" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.675"/>
    <parent link="kr210_base_link"/>
    <child link="kr210_link_1"/>
    <axis xyz="0 0 -1"/>
    <limit effort="0" lower="-3.22885911619" upper="3.22885911619" velocity="2.14675497995"/>
  </joint>
  <joint name="kr210_joint_a2" type="revolute">
    <origin rpy="0 0 0" xyz="0.350 0 0"/>
    <parent link="kr210_link_1"/>
    <child link="kr210_link_2"/>
    <axis xyz="0 1 0"/>
    <limit effort="0" lower="-2.44346095279" upper="-0.0872664625997" velocity="2.00712863979"/>
  </joint>
  <joint name="kr210_joint_a3" type="revolute">
    <origin rpy="0 0 0" xyz="1.150 0 0"/>
    <parent link="kr210_link_2"/>
    <child link="kr210_link_3"/>
    <axis xyz="0 1 0"/>
    <limit effort="0" lower="-2.09439510239" upper="2.70526034059" velocity="1.95476876223"/>
  </joint>
  <joint name="kr210_joint_a4" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 -0.041"/>
    <parent link="kr210_link_3"/>
    <child link="kr210_link_4"/>
    <axis xyz="-1 0 0"/>
    <limit effort="0" lower="-6.10865238198" upper="6.10865238198" velocity="3.12413936107"/>
  </joint>
  <joint name="kr210_joint_a5" type="revolute">
    <origin rpy="0 0 0" xyz="1.200 0 0"/>
    <parent link="kr210_link_4"/>
    <child link="kr210_link_5"/>
    <axis xyz="0 1 0"/>
    <limit effort="0" lower="-2.18166156499" upper="2.18166156499" velocity="3.00196631343"/>
  </joint>
  <joint name="kr210_joint_a6" type="revolute">
    <origin rpy="0 0 0" xyz="0.215 0 0"/>
    <parent link="kr210_link_5"/>
    <child link="kr210_link_6"/>
    <axis xyz="-1 0 0"/>
    <limit effort="0" lower="-6.10865238198" upper="6.10865238198" velocity="3.82227106187"/>
  </joint>
  <joint name="kr210_joint_a6-tool0" type="fixed">
    <parent link="kr210_link_6"/>
    <child link="kr210_tool0"/>
    <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
  </joint>
  <!-- ROS base_link to KUKA $ROBROOT coordinate system transform -->
  <link name="kr210_base"/>
  <joint name="kr210_base_link-base" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="kr210_base_link"/>
    <child link="kr210_base"/>
  </joint>
  <!-- link name="${prefix}balancer">
      <visual>
        <origin xyz="-0.092 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/balancer.dae"/>
        </geometry>
      </visual>
      <collision>
        <origin xyz="-0.092 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/balancer.stl"/>
        </geometry>
      </collision>
    </link>
    <link name="${prefix}piston">
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/visual/piston.dae"/>
        </geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="package://kuka_kr210_support/meshes/kr210r2700extra/collision/piston.stl"/>
        </geometry>
      </collision>
    </link>


    <joint name="${prefix}balancer_joint" type="continuous">
      <origin xyz="-0.450 0 -0.067" rpy="0 0 0"/>
      <parent link="${prefix}link_1"/>
      <child link="${prefix}balancer"/>
      <axis xyz="0 1 0"/>
      <mimic joint="${prefix}joint_a2" multiplier="-0.22" offset="${-22 * DEG2RAD}" />
    </joint>
    <joint name="${prefix}piston_joint" type="continuous">
      <origin xyz="-0.01 0 0.2" rpy="0 0 0"/>
      <parent link="${prefix}link_2"/>
      <child link="${prefix}piston"/>
      <axis xyz="0 1 0"/>
      <mimic joint="${prefix}joint_a2" multiplier="-1.25" offset="${-22 * DEG2RAD}" />
    </joint -->
  <!-- LINK DEFINITIONS -->
  <link name="table_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="1.0 2.3 0.695"/>
      </geometry>
      <material name="">
        <color rgba="0.219607843137 0.243137254902 0.258823529412 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="1.0 2.3 0.695"/>
      </geometry>
    </collision>
  </link>
  <!-- Geometry model table top -->
  <link name="table_table_top">
    <visual>
      <origin rpy="0 0 0" xyz="1.25 -0.0425 0.6"/>
      <geometry>
        <box size="2.5 -0.085 1.2"/>
      </geometry>
      <material name="">
        <color rgba="0.219607843137 0.243137254902 0.258823529412 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="1.25 -0.0425 0.6"/>
      <geometry>
        <box size="2.5 0.085 1.2"/>
      </geometry>
    </collision>
  </link>
  <!-- CAD model table top -->
  <!-- 		<link name="${prefix}table_top">	
      <visual>
      	<origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="package://atomic_cells/meshes/visual/forster_welding_tabletop.dae" />
        </geometry>        
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="package://atomic_cells/meshes/collision/forster_welding_tabletop_collision.stl" />
        </geometry>       
      </collision>
    </link> -->
  <!-- JOINT DEFINITIONS -->
  <joint name="table_base_link_joint" type="fixed">
    <origin rpy="1.57079632679 0 1.57079632679" xyz="-0.6 -1.25 0.4325"/>
    <parent link="table_base_link"/>
    <child link="table_table_top"/>
  </joint>
  <!--<link name="${prefix}base_link">
            <visual>
                <origin xyz="0 0 0" rpy="${pi/2} 0 0"/>
                <geometry>
                    <mesh filename="package://kr210_pen_support/meshes/visual/KUKA_Quickrelease_Flange_visual.dae" scale="0.001 0.001 0.001"/> 
                </geometry>
            </visual>
            <collision>
                <origin xyz="0 0 0" rpy="${pi/2} 0 0"/>
                <geometry>
                    <mesh filename="package://kr210_pen_support/meshes/collision/KUKA_Quickrelease_Flange_collision.stl" scale="0.001 0.001 0.001"/>
                </geometry>
            </collision>
        </link> -->
  <link name="penholder_base_link">
    <visual>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0.1898"/>
      <geometry>
        <mesh filename="package://kr210_eef_support/meshes/visual/penholder.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0.1898"/>
      <geometry>
        <mesh filename="package://kr210_eef_support/meshes/collision/penholder.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="penholder_tool_tip"/>
  <!-- <joint name="${prefix}eef_base_link_to_${prefix}base_link" type="fixed">
            <parent link= "${prefix}base_link"/>
            <child link= "${prefix}eef_base_link"/>
            <origin rpy="0 0 1" xyz="${-pi/2} 0 0"/>
        </joint> -->
  <joint name="penholder_tool_tip_to_penholder_base_link" type="fixed">
    <parent link="penholder_base_link"/>
    <child link="penholder_tool_tip"/>
    <origin rpy="0 0 0" xyz="0 0 0.4192"/>
  </joint>
  <!-- JOINTS -->
  <!-- Console to Linear track -->
  <joint name="console_base_link_to_kl2000_mobile_base" type="fixed">
    <parent link="kl2000_mobile_base"/>
    <child link="console_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- Robot to console  -->
  <joint name="kr210_base_link_to_console_base_link" type="fixed">
    <parent link="console_base_link"/>
    <child link="kr210_base_link"/>
    <origin rpy="0 0 -1.57079632679" xyz="0 0 0.4"/>
  </joint>
  <!-- Welding table to linear track -->
  <joint name="table_base_link_to_kl2000_mobile_base" type="fixed">
    <parent link="kl2000_base_link"/>
    <child link="table_base_link"/>
    <origin rpy="0 0 -1.57079632679" xyz="-1.264 1.719 0.3475"/>
  </joint>
  <!-- End effector to robot -->
  <joint name="penholder_base_link_to_kr210_tool0" type="fixed">
    <parent link="kr210_tool0"/>
    <child link="penholder_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
</robot>
